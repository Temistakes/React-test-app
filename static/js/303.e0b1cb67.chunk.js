"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[303],{303:(s,e,t)=>{t.r(e),t.d(e,{default:()=>F});var a=t(379),o=t(43),i=t(3),r=t(986);const _={profile:"Profile_profile__RPaT-"},l={"profile__banner-img":"ProfileBanner_profile__banner-img__bgya0"};var n=t(579);const p=["img"],u=o.memo((s=>{let{img:e}=s;(0,r.A)(s,p);return(0,n.jsx)("div",{className:l.profile__banner,children:(0,n.jsx)("img",{src:e,alt:"",className:l["profile__banner-img"]})})})),c={"profile__user-row":"ProfileInfo_profile__user-row__Q5Uyf","profile__user-img":"ProfileInfo_profile__user-img__cxfpO",profile__name:"ProfileInfo_profile__name__ADbYn",profile__desc:"ProfileInfo_profile__desc__wlHsR"},d=s=>{let[e,t]=(0,o.useState)(!1),[a,i]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{i(s.status)}),[s.status]);return(0,n.jsx)("div",{className:_.profile__status,children:e?(0,n.jsx)("input",{type:"text",onBlur:()=>{t(!1),s.updateStatus(a)},autoFocus:!0,value:a,onChange:s=>{i(s.target.value)}}):(0,n.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status?s.status:"---------------------"})})},m=["name","descr","updateStatus","status","img"];const f=function(s){let{name:e,descr:t,updateStatus:a,status:o,img:i}=s;return(0,r.A)(s,m),(0,n.jsxs)("div",{className:c["profile__user-row"],children:[(0,n.jsx)("img",{src:i,alt:"",className:c["profile__user-img"]}),(0,n.jsxs)("div",{className:c["profile__user-info"],children:[(0,n.jsx)("h1",{className:c.profile__name,children:e}),(0,n.jsx)("p",{className:c.profile__desc,children:t}),(0,n.jsx)(d,{updateStatus:a,status:o})]})]})},g={posts__form:"Posts_posts__form__kVSgd",posts__header:"Posts_posts__header__pKpL-",posts__title:"Posts_posts__title__1FITz",posts__items:"Posts_posts__items__irahp","posts__send-input":"Posts_posts__send-input__lRtkJ","posts__send-btn":"Posts_posts__send-btn__ZBKOx"},h={post:"Post_post__gDjBn",post__img:"Post_post__img__Trc2F",post__like:"Post_post__like__vGwlt"};const x=function(s){return(0,n.jsxs)("article",{className:h.post,children:[(0,n.jsx)("img",{src:"https://png.pngtree.com/thumb_back/fw800/background/20240321/pngtree-sunset-kisses-the-mountains-painting-sky-image_15656527.jpg",alt:"",className:h.post__img}),(0,n.jsxs)("p",{className:h.post__text,children:[s.message," | \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0430\u0439\u043a\u043e\u0432: ",s.likecount]}),(0,n.jsx)("button",{className:h.post__like,children:"Like"})]})};var j=t(892),P=t(899);function N(s){let e=P.Ik().shape({message:P.Yj().typeError("\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445").required("\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e")});return(0,n.jsx)(j.l1,{initialValues:{message:""},validationSchema:e,onSubmit:e=>{s.addPost(e.message)},children:s=>{let{errors:e,touched:t,values:a}=s;return(0,n.jsxs)(j.lV,{className:g.posts__form,children:[(0,n.jsx)(j.D0,{type:"text",placeholder:"Message",value:a.message,name:"message",className:g["posts__send-input"]}),e.message&&t.message?(0,n.jsx)("p",{className:g.error,children:e.message}):"",(0,n.jsx)("button",{type:"submit",className:g["posts__send-btn"],children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}})}const b=function(s){let e=s.posts.map((s=>(0,n.jsx)(x,{message:s.message,likecount:s.likecount},s.id)));return(0,n.jsxs)("div",{className:g.posts,children:[(0,n.jsx)("header",{className:g.posts__header,children:(0,n.jsx)("h2",{className:g.posts__title,children:"\u041f\u043e\u0441\u0442\u044b"})}),(0,n.jsx)(N,{addPost:s.addPost}),(0,n.jsx)("div",{className:g.posts__items,children:e})]})};var k=t(302);const v=(0,i.Ng)((s=>({inputValue:s.profilePage.input,posts:s.profilePage.posts})),{addPost:k.SD})(b);var S=t(664);const A=["profile","status","updateStatus"];const w=function(s){let{profile:e,status:t,updateStatus:a}=s;return(0,r.A)(s,A),e?(0,n.jsxs)("section",{className:_.profile,children:[(0,n.jsx)(u,{img:e.photos.large}),(0,n.jsx)(f,{img:e.photos.small,name:e.fullName,descr:e.aboutMe,status:t,updateStatus:a}),(0,n.jsx)(v,{})]}):(0,n.jsx)(S.A,{})};var y=t(250),I=(t(789),t(923));const C=s=>s.profilePage.profile,B=s=>s.profilePage.status,D=s=>s.auth.id,V=s=>s.auth.isAuth;class E extends o.Component{render(){const{id:s,status:e,profile:t,updateStatus:o}=this.props;return this.props.id?(0,n.jsx)(w,(0,a.A)((0,a.A)({},this.props),{},{status:e,profile:t,updateStatus:o})):(0,n.jsx)(y.C5,{to:"/login/"})}componentDidMount(){const{id:s,getProfile:e,getStatus:t}=this.props;e(s),t(s)}}const F=(0,I.Zz)((0,i.Ng)((s=>({profile:C(s),status:B(s),authId:D(s),isAuth:V(s)})),{getProfile:k.E$,getStatus:k.BS,updateStatus:k.yB}))((s=>{let e=(0,y.g)(),t=(0,y.Zp)();return(0,n.jsx)(E,(0,a.A)((0,a.A)({},s),{},{id:e.id?e.id:s.isAuth?s.authId:t("/login/")}))}))},789:(s,e,t)=>{t.d(e,{A:()=>l});var a=t(379),o=(t(43),t(3)),i=t(250),r=t(579);let _=s=>({isAuth:s.auth.isAuth});const l=s=>(0,o.Ng)(_)((e=>e.isAuth?(0,r.jsx)(s,(0,a.A)({},e)):(0,r.jsx)(i.C5,{to:"/login/"})))}}]);
//# sourceMappingURL=303.e0b1cb67.chunk.js.map