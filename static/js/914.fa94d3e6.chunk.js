"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[914],{484:(e,t,o)=>{o.r(t),o.d(t,{default:()=>U});var s=o(916),n=o(3),r=o(986),l=o(43);const i=o.p+"static/media/beaver.dc9c162101aba994501a.jpg",u={user__img:"User_user__img__f4UsP"};var c=o(579);const a=function(e){return(0,c.jsxs)("article",{className:u.user,children:[(0,c.jsxs)("div",{className:u.user__column,children:[(0,c.jsx)("img",{src:e.url,alt:"",className:u.user__img}),e.followed?(0,c.jsx)("button",{onClick:()=>{return t=e.id,void e.unfollow(t);var t},className:u.user__btn,disabled:e.followingInProgress.some((t=>e.id===t)),children:"Unfollow"}):(0,c.jsx)("button",{onClick:()=>{return t=e.id,void e.follow(t);var t},className:u.user__btn,disabled:e.followingInProgress.some((t=>e.id===t)),children:"Follow"})]}),(0,c.jsxs)("div",{className:u.user__column,children:[(0,c.jsx)("b",{className:u.user__name,children:e.name}),(0,c.jsx)("p",{className:u.user__descr,children:e.descr})]})]})},p={},f="Paginator_pagination__QGsIx",d="Paginator_selected__24rA7";const g=function(e){let{totalCount:t,usersCount:o,currentPage:s,portionSize:n,setPage:r}=e,i=Math.ceil(t/o),u=[];for(let l=1;l<=i;l++)u.push(l);let a=Math.ceil(i/n),[p,g]=(0,l.useState)(2),h=(p-1)*n+1,m=p*n;return u=u.filter((e=>e>=h&&e<=m)).map((e=>(0,c.jsx)("button",{className:e===s?d:"",onClick:()=>r(e,o),children:e}))),(0,c.jsxs)("div",{className:f,children:[p>1?(0,c.jsx)("button",{onClick:()=>g(p-1),children:"Prev"}):"",u,a>p?(0,c.jsx)("button",{onClick:()=>g(p+1),children:"Next"}):""]})},h=["totalCount","usersCount","currentPage","setPage","portionSize"];const m=function(e){let{totalCount:t,usersCount:o,currentPage:s,setPage:n,portionSize:l}=e,u=(0,r.A)(e,h),f=u.users.map((e=>(0,c.jsx)(a,{name:e.name,status:e.status,url:e.photos.small?e.photos.small:i,id:e.id,followed:e.followed,follow:u.follow,unfollow:u.unfollow,followingInProgress:u.followingInProgress},e.id)));return(0,c.jsxs)("section",{className:p.users,children:[(0,c.jsx)("h1",{className:p.users__title,children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),(0,c.jsx)(g,{totalCount:t,usersCount:o,currentPage:s,setPage:n,portionSize:l}),(0,c.jsx)("div",{className:p.users__items,children:f})]})};var v=o(664),w=o(923),y=(o(705),o(379));function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var j=e=>Array.isArray(e)?e:[e];function b(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const o=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(o,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var C="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:s}=t;let n,r=0;function l(){let t=o;const{length:l}=arguments;for(let e=0,o=l;e<o;e++){const o=arguments[e];if("function"===typeof o||"object"===typeof o&&null!==o){let e=t.o;null===e&&(t.o=e=new WeakMap);const s=e.get(o);void 0===s?(t={s:0,v:void 0,o:null,p:null},e.set(o,t)):t=s}else{let e=t.p;null===e&&(t.p=e=new Map);const s=e.get(o);void 0===s?(t={s:0,v:void 0,o:null,p:null},e.set(o,t)):t=s}}const i=t;let u;if(1===t.s)u=t.v;else if(u=e.apply(null,arguments),r++,s){var c,a,p;const e=null!==(c=null===(a=n)||void 0===a||null===(p=a.deref)||void 0===p?void 0:p.call(a))&&void 0!==c?c:n;null!=e&&s(e,u)&&(u=e,0!==r&&r--);n="object"===typeof u&&null!==u||"function"===typeof u?new C(u):u}return i.s=1,i.v=u,u}return l.clearCache=()=>{o={s:0,v:void 0,o:null,p:null},l.resetResultsCount()},l.resultsCount=()=>r,l.resetResultsCount=()=>{r=0},l}function x(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];const n="function"===typeof e?{memoize:e,memoizeOptions:o}:e,r=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];let s,r=0,l=0,i={},u=t.pop();"object"===typeof u&&(i=u,u=t.pop()),P(u,"createSelector expects an output function after the inputs, but received: [".concat(typeof u,"]"));const c=(0,y.A)((0,y.A)({},n),i),{memoize:a,memoizeOptions:p=[],argsMemoize:f=_,argsMemoizeOptions:d=[],devModeChecks:g={}}=c,h=j(p),m=j(d),v=b(t),w=a((function(){return r++,u.apply(null,arguments)}),...h);const C=f((function(){l++;const e=function(e,t){const o=[],{length:s}=e;for(let n=0;n<s;n++)o.push(e[n].apply(null,t));return o}(v,arguments);return s=w.apply(null,e),s}),...m);return Object.assign(C,{resultFunc:u,memoizedResultFunc:w,dependencies:v,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>s,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:a,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var z=x(_),k=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const o=Object.keys(e),s=t(o.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.reduce(((e,t,s)=>(e[o[s]]=t,e)),{})}));return s}),{withTypes:()=>k});const N=z((e=>e.usersPage.users),(e=>e.filter((e=>!0)))),S=e=>e.usersPage.totalUsersCount,A=e=>e.usersPage.usersCount,I=e=>e.usersPage.currentPage,M=e=>e.usersPage.isFetching,O=e=>e.usersPage.followingInProgress,R=e=>e.usersPage.portionSize;class F extends l.Component{constructor(){super(...arguments),this.render=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m,{totalCount:this.props.totalCount,usersCount:this.props.usersCount,users:this.props.users,currentPage:this.props.currentPage,follow:this.props.follow,unfollow:this.props.unfollow,setPage:this.props.setPage,followingInProgress:this.props.followingInProgress,portionSize:this.props.portionSize}),this.props.isFetching?(0,c.jsx)(v.A,{}):""]}),this.componentDidMount=()=>{0===this.props.users.length&&this.props.getUsers(this.props.currentPage,this.props.usersCount)}}}const U=(0,w.Zz)((0,n.Ng)((e=>({users:N(e),totalCount:S(e),usersCount:A(e),currentPage:I(e),isFetching:M(e),followingInProgress:O(e),portionSize:R(e)})),{follow:s.e6,unfollow:s.X2,setPage:s.Ir,getUsers:s.lo}))(F)}}]);
//# sourceMappingURL=914.fa94d3e6.chunk.js.map